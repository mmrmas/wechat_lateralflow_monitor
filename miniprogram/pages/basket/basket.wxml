<body>
  <view class ="subbody">
    <form bindsubmit="checkOut">
      <view class = "greybg">
        <!--ENGLISH-->
        <view wx:if="{{lang=='EN'}}">
          <view wx:if="{{sum > 0}}" class = "checkOut-table">
            <view class = "checkOut-header-product">Product name</view>
            <view class = "checkOut-header">Quantity</view>
            <view class = "checkOut-header">Price (RMB)</view> 
            <view class = "checkOut-header"></view>
          </view> 
        </view>

        <!--CHINESE-->
        <view wx:if="{{lang=='CN'}}">
          <view wx:if="{{sum > 0}}" class = "checkOut-table">
            <view class = "checkOut-header-product">äº§å“åç§°</view>
            <view class = "checkOut-header">æ•°é‡</view>
            <view class = "checkOut-header">ä»·æ ¼ (å…ƒ)</view> 
            <view class = "checkOut-header"></view>
          </view> 
        </view>        



        <view wx:for="{{items}}" wx:key="productName" > 
          <view wx:if="{{item.quantity > 0 && item.checked}}" class = "checkOut-table">
              <!--ENGLISH-->
              <view wx:if="{{lang=='EN'}}" class = "checkOut-product">{{item.description}}</view>
              <!--CHINESE-->
              <view wx:if="{{lang=='CN'}}" class = "checkOut-product">{{item.description_cn}}</view>
              
              <view class = "checkOut-row">{{item.quantity}}</view>
              <view class = "checkOut-row">{{item.price}}</view>
              <view wx:if="{{!item.bundleItem || item.bundleItem == false}}" class = "checkOut-row" bindtap="removeThis" id="{{item._id}}">
                <!--ENGLISH-->
                <view wx:if="{{lang=='EN'}}" class="remove_button">remove</view>
                <!--CHINESE-->
                <view wx:if="{{lang=='CN'}}" class="remove_button">åˆ é™¤</view>
              </view>

              <view wx:if="{{item.bundleItem && item.bundleItem == true}}" class = "checkOut-row">
                  <view> </view>
                </view>
          </view>
        </view>

         <!--ENGLISH-->
         <view wx:if="{{lang=='EN' && total>0}}">
          <view wx:if="{{shippingFee == 0}}" class = "checkOut-summary">
            <view class = "checkOut-cell">Shipping: {{shippingFee}} RMB ğŸ</view>
          </view>
          <view wx:if="{{shippingFee > 0}}" class = "checkOut-summary">
            <view class = "checkOut-cell">Shipping: {{shippingFee}} RMB</view>
          </view>
          <view wx:if="{{discount > 0}}" class = "checkOut-summary">
            <view class = "checkOut-cell">Discount: {{discount}} RMB ğŸ</view> 
          </view>
          <view class = "checkOut-final">
            <view class = "checkOut-cell">Total amount: {{total}} RMB</view>
          </view>
          <view class = "customButtonContainer">
            <view class = "customButton" bindtap = "clearAll">Clear all</view>
          </view>
        </view>

        <!--CHINESE-->
        <view wx:if="{{lang=='CN'  && total>0}}">
          <view wx:if="{{shippingFee == 0}}" class = "checkOut-summary">
            <view class = "checkOut-cell">è¿è´¹: {{shippingFee}} RMB ğŸ</view>
          </view>
          <view wx:if="{{shippingFee > 0}}" class = "checkOut-summary">
            <view class = "checkOut-cell">è¿è´¹: {{shippingFee}} RMB</view>
          </view>
          <view wx:if="{{discount > 0}}" class = "checkOut-summary">
            <view class = "checkOut-cell">å·²å‡: {{discount}} RMB ğŸ</view> 
          </view>
          <view class = "checkOut-final">
            <view class = "checkOut-cell">åˆè®¡: {{total}} RMB</view>
          </view>
          <view class = "customButtonContainer">
            <view class = "customButton" bindtap = "clearAll">å…¨éƒ¨åˆ é™¤</view>
          </view>
        </view>
      </view> 
 


      <view class = "whitebg">
        <view wx:if="{{address_filled}}"  class = "inputBox">
          <view class = "addressview">
            <!--ENGLISH-->
            <view wx:if="{{lang=='EN'}}">
              <view class = "textview">
                <text class = "one">Name</text>
                <text class = "three">{{address.userName}}</text>
              </view>
              <view class = "textview">
                <text class = "one">Address</text>
                <text class = "three">{{address.detailInfo}}</text>
              </view>
              <view class = "textview">
                <text class = "one">Postal code</text>
                <text class = "three">{{address.postalCode}}</text>
              </view>
              <view class = "textview">
                <text class = "one">Province</text>
                <text class = "three">{{address.provinceName}}</text>
              </view>
              <view class = "textview">
                <text class = "one">City</text>
                <text class = "three">{{address.cityName}}</text>
              </view>
              <view class = "textview">
                <text class = "one">District</text>
                <text class = "three">{{address.countyName}}</text>
              </view>
              <view class = "textview">
                <text class = "one">Phone</text>
                <text class = "three">{{address.telNumber}}</text>
              </view>
            </view>


              <!--CHINESE-->
              <view wx:if="{{lang=='CN'}}">
                <view class = "textview">
                  <text class = "one">æ”¶è´§äºº</text>
                  <text class = "three">{{address.userName}}</text>
                </view>
                <view class = "textview">
                  <text class = "one">è¯¦ç»†åœ°å€</text>
                  <text class = "three">{{address.detailInfo}}</text>
                </view>
                <view class = "textview">
                  <text class = "one">é‚®ç¼–</text>
                  <text class = "three">{{address.postalCode}}</text>
                </view>
                <view class = "textview">
                  <text class = "one">çœä»½</text>
                  <text class = "three">{{address.provinceName}}</text>
                </view>
                <view class = "textview">
                  <text class = "one">åŸå¸‚</text>
                  <text class = "three">{{address.cityName}}</text>
                </view>
                <view class = "textview">
                  <text class = "one">åŒºåŸŸ</text>
                  <text class = "three">{{address.countyName}}</text>
                </view>
                <view class = "textview">
                  <text class = "one">æ‰‹æœºå·ç </text>
                  <text class = "three">{{address.telNumber}}</text>
                </view>
            </view>

          </view>
        </view>
        <!--ENGLISH-->
        <view wx:if="{{lang=='EN'}}" class = "customButtonContainer">
          <button wx:if="{{total > 0}}" class = "customButton"  form-type="submit">Check out</button>
        </view>
        <!--CHINESE-->
        <view wx:if="{{lang=='CN'}}" class = "customButtonContainer">
          <button wx:if="{{total > 0}}" class = "customButton"  form-type="submit">å»ç»“ç®—</button>
        </view>
      </view>
    </form>

    <view class = "greybg">
       <!--ENGLISH-->
       <view wx:if="{{lang=='EN'}}" class = "customButtonContainer">
        <view class = "customButton" bindtap = "getAddress">Change Address</view>
        <view wx:if="{{total == 0}}"class = "customButton" bindtap = "toOrder">view products</view>
      </view>
       <!--CHINESE-->
       <view wx:if="{{lang=='CN'}}" class = "customButtonContainer">
        <view class = "customButton" bindtap = "getAddress">æ›´æ”¹åœ°å€</view>
        <view wx:if="{{total == 0}}"class = "customButton" bindtap = "toOrder">å†é€›é€›</view>
      </view>      
    </view>
  </view>
</body>